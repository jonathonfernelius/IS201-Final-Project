<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Arcade Space Shooter (Full Screen)</title>
<style>
    body {
        margin: 0;
        background: black;
        overflow: hidden;
        font-family: Arial, sans-serif;
        color: white;
    }
    #instructions {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.6);
        padding: 10px 15px;
        border-radius: 8px;
        border: 1px solid #555;
        max-width: 280px;
        font-size: 14px;
        z-index: 10;
    }

    #return {
        position: fixed;
        bottom: 10px;
        right: 10px;
        background: rgba(0,0,0,0.6);
        padding: 10px 15px;
        border-radius: 8px;
        border: 1px solid #555;
        max-width: 280px;
        font-size: 14px;
        z-index: 10;
    }

    #gameOver {
        position: fixed;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 40px;
        text-align: center;
        display: none;
        z-index: 20;
    }
    #restartBtn {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 20px;
        cursor: pointer;
    }
</style>
</head>
<body>

<canvas id="gameCanvas"></canvas>

<div id="instructions">
    <b>How to Play:</b><br>
    • Move Left: ← Arrow<br>
    • Move Right: → Arrow<br>
    • Shoot: Spacebar<br><br>
    Shoot enemy ships before they reach the bottom!<br>
</div>

<div id="gameOver">
    <div>GAME OVER</div>
    <button id="restartBtn">Restart</button>
</div>

<script>
// --------------------------------------------------
// Canvas Setup (Full Screen)
// --------------------------------------------------
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Reposition player if needed
    if (player) {
        player.y = canvas.height - 60;
        player.x = Math.min(player.x, canvas.width - player.width);
    }
}
window.addEventListener("resize", resizeCanvas);

// --------------------------------------------------
// Game Setup
// --------------------------------------------------
let player, bullets, enemies, keys, score, gameRunning;
const gameOverScreen = document.getElementById("gameOver");
const restartBtn = document.getElementById("restartBtn");

function resetGame() {
    resizeCanvas();

    player = {
        x: canvas.width / 2 - 20,
        y: canvas.height - 60,
        width: 40,
        height: 40,
        speed: 15
    };

    bullets = [];
    enemies = [];
    keys = {};
    score = 0;
    gameRunning = true;

    gameOverScreen.style.display = "none";
}

resetGame();

// --------------------------------------------------
// Input
// --------------------------------------------------
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

// --------------------------------------------------
// Shooting
// --------------------------------------------------
function shoot() {
    bullets.push({
        x: player.x + player.width / 2 - 3,
        y: player.y,
        width: 6,
        height: 12,
        speed: 12
    });
}

// --------------------------------------------------
// Enemy Spawning
// --------------------------------------------------
function spawnEnemy() {
    enemies.push({
        x: Math.random() * (canvas.width - 40),
        y: -40,
        width: 40,
        height: 40,
        speed: 2 + Math.random() * 2
    });
}
setInterval(spawnEnemy, 900);

// --------------------------------------------------
// Game Loop
// --------------------------------------------------
function update() {
    if (!gameRunning) return;

    // Player movement
    if (keys["ArrowLeft"]) player.x -= player.speed;
    if (keys["ArrowRight"]) player.x += player.speed;

    // Keep player inside screen
    player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));

    // Shooting control
    if (keys[" "] || keys["Spacebar"]) {
        if (!keys._cooldown) {
            shoot();
            keys._cooldown = true;
            setTimeout(() => keys._cooldown = false, 180);
        }
    }

    // Update bullets
    bullets.forEach(b => b.y -= b.speed);
    bullets = bullets.filter(b => b.y > -20);

    // Update enemies
    enemies.forEach(e => e.y += e.speed);

    // Collisions
    enemies.forEach((e, ei) => {
        // Enemy reaches bottom → game over
        if (e.y + e.height >= canvas.height) {
            endGame();
        }

        bullets.forEach((b, bi) => {
            if (b.x < e.x + e.width &&
                b.x + b.width > e.x &&
                b.y < e.y + e.height &&
                b.y + b.height > e.y) {

                enemies.splice(ei, 1);
                bullets.splice(bi, 1);
                score++;
            }
        });
    });

    draw();
    requestAnimationFrame(update);
}

// --------------------------------------------------
// Drawing
// --------------------------------------------------
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Player
    ctx.fillStyle = "#00ffea";
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // Bullets
    ctx.fillStyle = "yellow";
    bullets.forEach(b => ctx.fillRect(b.x, b.y, b.width, b.height));

    // Enemies
    ctx.fillStyle = "red";
    enemies.forEach(e => ctx.fillRect(e.x, e.y, e.width, e.height));

    // Score
    ctx.fillStyle = "white";
    ctx.font = "22px Arial";
    ctx.fillText("Score: " + score, 15, 30);
}

// --------------------------------------------------
// Game Over
// --------------------------------------------------
function endGame() {
    gameRunning = false;
    gameOverScreen.style.display = "block";
}

// --------------------------------------------------
// Restart
// --------------------------------------------------
restartBtn.addEventListener("click", () => {
    resetGame();
    update();
});

// Start loop
update();
</script>

<div id="return"><a href="index.html">Return to Home</a></div>
</body>
</html>
